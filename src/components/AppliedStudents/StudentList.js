import React from 'react';
import { Component } from 'react';
import StudentCard from './StudentCard';
import styles from './StudentList.module.css';
import {StudentsContext} from './StudentsContext.js';
import Loader from '../shared/ui/Loader/Loader';
import {LoadingStudentCard} from './StudentCard';

let applicants = [{
    "name": "Vardaan Grover",
    "state": "new delhi",
    "phone": "9818782779",
    "dob": {
        "seconds": 909081000,
        "nanoseconds": 0
    },
    "pincode": 110089,
    "verified": true,
    "blocked": false,
    "about": "Recently graduating CS program learning aspects of cyber security and network security. Learner, contributes to team success, pays attention to details. Awareness about technical and social topics.",
    "skillkey": [
        "content development",
        "ms excel",
        "c++",
        "css",
        "python",
        "cyber security",
    ],
    "exp": {},
    "course": {},
    "jobid": "9998358434613552",
    "project": {
        "11": {
            "link": "",
            "desc": "",
            "name": "web scrapper"
        },
        "12": {
            "name": "railway management system",
            "desc": "",
            "link": ""
        }
    },
    "edu": {
        "bachelors": {
            "clg_board": "maharaja agrasen institute of technology",
            "year": 2022,
            "field": "computer science engineering",
            "course": "bachelors of technology",
            "percent": 77
        },
        "ssc": {
            "year": 2014,
            "field": "",
            "percent": 72,
            "clg_board": "cbse",
            "course": ""
        },
        "hsc": {
            "year": 2017,
            "course": "non medical",
            "field": "",
            "clg_board": "cbse",
            "percent": 66
        }
    },
    "uid": "lkQHl1ekUWRLKHTqI12NGqSNb6A3",
    "status": "Applied",
    "createdate": {
        "seconds": 1641790033,
        "nanoseconds": 0
    },
    "marks": {
        "hsc": {
            "0": true,
            "60": true,
            "70": false,
            "80": false,
            "90": false
        },
        "ssc": {
            "0": true,
            "60": true,
            "70": true,
            "80": false,
            "90": false
        },
        "masters": {
            "0": true,
            "60": true,
            "70": true,
            "80": true,
            "90": true
        },
        "bachelors": {
            "0": true,
            "60": true,
            "70": true,
            "80": false,
            "90": false
        },
        "diploma": {
            "0": true,
            "60": true,
            "70": true,
            "80": true,
            "90": true
        }
    },
    "accomp": {},
    "sskills": {
        "creativity:art and craft, writing": true,
        "critical thinking": true,

    },
    "hskills": {
        "c++": true,
        "content development": true,
        "css": true,
    },
    "rollid": "04514802718",
    "email": "sheoran.himani@gmail.com",
    "collegeid": "maharaja agrasen institute of technology",
    "flag": "new",
    "degree": "bachelors",
    "gender": "Female",
    "city": "new delhi",
    "userid": "himanisheoran",
    "id": "8358037166623",
    "profilePic": 'data:image/jpeg;base64,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AAAAAEHPPPPPPPPPPPPPPPPPPPPKAAAAAAAAAAAAAAAAMPPPPPPPPPPPPPPPPPPPPAAAAAAAAAAAAAAAAAAPPPPPPPPPPPPPPPPPPPPIAAAAAAAAAAAAAAAAAPPPPPPPPPPPPPPPPPPPPIAAAAAAAAAAAAAAAAAPPPPPPPPPPPPPPPPPPPPKAAAAAAAAAAAAAAAABPPPPPPPPPPPPPPPPPPPPIAAAAAAAAAAAAAAAAFPPPPPPPPPPPPPPPPPPPPKAAAAAAAAAAAAAAAAAPPPPPPPPPPPPPPPPPPPPKAAAAAAAAAAAAAAAAEPPPPPPPPPPPPPPPPPPPPAAAAAAAAAAAAAAAAAHPPPPPPPPPPPPPPPPPPPKEAAAAAAAAAAAAAAAAPPPPPPPPPPPPPPPPPPPPPAAAAAAAAAAAAAAAAAFPPPPPPPPPPPPPPPPPPPKAAAAAAAAAAAAAAAAAFPPPPPPPPPPPPPPPPPPPPIAAAAAAAAAAAAAAAAFPPPPPPPPPPPPPPPPPPPPAAAAAAAAAAAAAAAAEPPPPPPPPPPPPPPPPPPPPPKCAAAAAAAAAAAAAFPPPPPPPPPPPPPPPPPPPPPPPPAAAAAAAAAAAAADPPPPPPPPPPPPPPPPPPPPPPPPAAAAAAAAAAAAAPPPPPPPPPPPPPPPPPPPPPPPPPKAAAAAAAAAAAEPPPPPPPPPPPPPPPPPPPPPPPPPKAAAAAAAAAAAFPPPPPPPPPPPPPPPPPPPPPPPPPPAAAAAAAAAAAFPPPPPPPPPPPPPPPPPPPPPPPPPPCAAAAAAAAAAFPPPPPPPPPPPPPPPPPPPPPPPPPPKAAAAAAAAAAAHPPPPPPPPPPPPPPPPPPPPPPPPLAAAAAAAAAAAAOPPPPPPPPPPPPPPPPPPPPPPPIAAAAAAAAAAAAAAIFNPPPPPPPPPPPPPPPPPNAIAAAAAAAAAAAAAAAAAEHPPPPPPPPPPPPPPOIAAAAAAAAAAAAAAAAAAAAAAEPPPPPPPPPPPOCEAAAAAAAAAAAAAAAAAAAAAAAAAEHNPPPPPPIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEMPPPPPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEEPPPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAP/EABQRAQAAAAAAAAAAAAAAAAAAAKD/2gAIAQMBAT8QNJ//xAAUEQEAAAAAAAAAAAAAAAAAAACg/9oACAECAQE/EDSf/8QALRABAAECBAQGAwEBAAMAAAAAAREAITFBUFFAYXGBIDCRobHBENHwYOFwgPH/2gAIAQEAAT8Q/wDCuXDZ6jb/ANCMv8UyMGKuFI4+opOJ9VWDh1tV76QH8H+EjKebV1g1m/OsfyWuWaEtmwq+pA0f9BWe/wCeVK+GGie5QU+I7WD1ouSa0ASVgYtWJ8kv603cd1f/AGVN2Vv5rIek3/KHh7rx7b6usE1Jxns2VNsmIAIA4Im4LiYlTsAXo31W2vsZtIMmycevCuxdi8x8EBfLEuOoGMO1kdaZJTfhrbKCV7dhFDGZ/GFSQEcsUzpMisuNc+JeEwL1FIvhs9KVWVV58XzKTuZ6SUGsOZiaY8sFgPtx8vUYbhSYyEj+DSBEx+rSqysrfQJj/Qz0qALIR30HY5ZdGuvlZ8Dn5o4cC04FyXjz8Z1yMHSIGYs8bLjHJufd/wB0j09X966HN/BjR86XkM+9DtfMfnSGTOEPTQ/afbSOcD+dD9r9tIct3Oh+x+2kYnXQzdfzHSMNs6HieZ96Qu6vzoeL5PjSBQEQL10MYLH6GkQPYPbjTxGG3XwaRsVONDET5p76QlTm/nQ4Hnf630hmyIUdMtCzK5KhxJ5+YSzoy4h8q1WBTjpEE8GKx2CHhY8T4olWEHV0g5OSQxOVLSI7zSQpVxV0ACbtNLQXQQvPw20Jp1956W0NW7J2aNHw23yaG5+r0vUaP1OvrfQ5OwMd3R2sNMe4aHOZl9raRDA8SW/NuKju/uaRNsKgoguOjoXI8ntw74HyjwCMWCu2g8jwo4R4WbBcn6418HJST2NK5lAdaw0AbYRE8+elvAwnsNW3sybQVPGW1VXdjOkZIN1vSgggIDSzyLJgjeoTAkua114wxGK7GdY6aY1zaDxzwp7EJ646fLxsX7cXmpAe9Bp8HF3D0eLMHq9nUBwNBSGoSHikeP2H+dRhA3OvEhQBVsRU0RO756MeXnEFnZyoQYSE4gJ5ZvVTqVgLlibb8QrPL86mBET1qxsWxtw7YP7c1No+38HDuGTi/rVPbHxw7g90e2qQt/wcO45zHtqhjs8P/DF9UMdJ8vDrkCNDIJg31OdBwPt98RzFPFvgeDQCqAu11VDpwT4t+qHbHRjzLwZfQz4dpolFBwuzk0RII4Izp7oQM1pSBo2VmY4GxtxTfUXg/qmJDZcW81Ai9i33oAQRzGdKnAnqGlUQ3uWpMHm8f2kVtVuAb2NWkOwaz0RQJUAxall6OHrU4p/J0QsySNQPQnE716gSycG+cgKAGK4FTAc/+XpG8mQsHbSEoRRyRo+PlsH7qFjcZnbjWpA2cjh1pTfWOBph1gYI0SI7DO7ldL9cUgksBm0YKy4OzpSqqqrj+O+myj7xSkS+V8lQlPJ4UCwOQxe1MtnO1ft6LX6QNTClWYxURC9yoYB7nnv4ZIAJVypmbBn+tIEVcVcfEakbUGY1AQOzGoDDyy8T5DeEZGbUIbDY/e+uFmhmNYJRy/dCTJgj5dzBcCn8pyMjka/g1Zps0Gd2cejn5IVhssuqmyExX/AijIomCUrMlt+391PiCTDgcn/VJRFVxf8ACKJCC9mbeBtjTsxDJ+vO7ebbS0YhUlKQdyv/2Q==',

}]

class StudentList extends Component{
    render(){
        return(
        <div className={styles.StudentListContainer}>
            {/* { this.props.jobLoading?<Loader color="#232d4c"/>: */}           
            <div className={styles.StudentList}>
            {mapStudentListToCards(applicants, this.props)}
            { this.context.state.studentLoading ? mapLoadingStudentList() : null }
            {/* { this.context.state.newStudentsLoading ? mapLoadingStudentList() : null } */}
            </div>
        </div>)
    }
}
StudentList.contextType = StudentsContext;

const mapStudentListToCards = (studentList, props)=>{
    return studentList.map((student, i)=>{
        if ( i < props.count?.newCount&&student.flag=='new')
            student.flag='New' 
            return <StudentCard loaded={true} key={i} student={student}/>
        })
}

const mapLoadingStudentList = ()=>{
    let arr = [1,2,3,4];
    return arr.map(student=><LoadingStudentCard key={student} student={{loading:true, name:"Anuj Talwar"}}/>)
}

export default StudentList;